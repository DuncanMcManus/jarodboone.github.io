function getParameterByName(t,o){o||(o=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(o);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}!function(){function t(t,o){this.isAlive=!1,this.graphic=null,this.x=t,this.y=o,this.neighboors=0}var o={width:0,height:0,hRatio:0,numberOfBlocks:75,blockHeight:0,blockWidth:0,cellMatrix:null,board:null,state:null,console:$(".gol_console"),consoleLength:0,running:!1,ref:null,setRef:!1,printA:function(t){var o=$("#pt").val();this.console.append("<p>"+o+t+"</p>"),this.consoleLength>=500&&this.console.children("p").pop()},printZ:function(t){this.console.append("p").text(t)},kill:function(t,o){if(this.cellMatrix[t][o].isAlive){this.cellMatrix[t][o].graphic.remove(),this.cellMatrix[t][o].graphic=null,this.cellMatrix[t][o].isAlive=!1;var e=this.state.indexOf(this.cellMatrix[t][o]);e>-1&&this.state.splice(e,1)}},populate:function(t,o){if(!this.cellMatrix[t][o].isAlive){var e;if(this.cellMatrix[t][o].isAlive=!0,this.cellMatrix[t][o].graphic=this.board.append("rect").attr("x",t*this.blockWidth).attr("y",o*this.blockHeight).attr("width",this.blockWidth).attr("height",this.blockHeight).attr("fill","rgb(0,204,102)"),this.state.push(this.cellMatrix[t][o]),this.ref){var a=this.cellMatrix[t][o].x-this.ref.x,i=this.cellMatrix[t][o].y-this.ref.y<0?"-":"+";e="(mx "+(a<0?"-":"+")+" "+this.cellMatrix[t][o].x+",my "+i+" "+this.cellMatrix[t][o].y+")"}else e="("+this.cellMatrix[t][o].x+","+this.cellMatrix[t][o].y+")";this.printA(e),this.consoleLength++}},setReference:function(t,o){this.cellMatrix[t][o].isAlive&&this.kill(this.cellMatrix[t][o].x,this.cellMatrix[t][o].y),this.cellMatrix[t][o].isAlive=!0,this.cellMatrix[t][o].graphic=this.board.append("rect").attr("x",t*this.blockWidth).attr("y",o*this.blockHeight).attr("width",this.blockWidth).attr("height",this.blockHeight).attr("fill","rgb(122,30,102)"),this.state.push(this.cellMatrix[t][o]),this.ref=this.cellMatrix[t][o],this.setRef=!1,$("#refSet").css({color:"black"}).attr({"data-on":0}),$("#refVal").val(this.ref.x+","+this.ref.y);var e="("+this.cellMatrix[t][o].x+","+this.cellMatrix[t][o].y+")";this.printA(e),this.consoleLength++},loadState:function(t){var o=Math.ceil(this.numberOfBlocks/2),e=Math.ceil(this.numberOfBlocks/2);t?1==t&&(this.populate(o,e),this.populate(o-1,e),this.populate(o-2,e),this.populate(o+1,e+1),this.populate(o+1,e+2),this.populate(o+1,e+3),this.populate(o,e+5),this.populate(o-1,e+5),this.populate(o-2,e+5),this.populate(o-4,e+5)):(this.populate(o,e),this.populate(o+1,e+1),this.populate(o-1,e+1),this.populate(o,e+4),this.populate(o+4,e))},tick:function(){for(var t=new Array,o=0;o<this.state.length;o++){var e=this.state[o],a=e.x+1,i=e.x-1,l=e.y+1,s=e.y-1;if(l>=0&&l<this.numberOfBlocks){var r=this.cellMatrix[e.x][l];if(t.includes(r)||this.state.includes(r)?r.neighboors++:(r.neighboors=1,t.push(r)),i>=0&&i<this.numberOfBlocks){var c=this.cellMatrix[i][e.y],h=this.cellMatrix[i][l];t.includes(c)||this.state.includes(c)?c.neighboors++:(c.neighboors=1,t.push(c)),t.includes(h)||this.state.includes(h)?h.neighboors++:(h.neighboors=1,t.push(h))}if(a>=0&&a<this.numberOfBlocks){var n=this.cellMatrix[a][e.y],p=this.cellMatrix[a][l];t.includes(n)||this.state.includes(n)?n.neighboors++:(n.neighboors=1,t.push(n)),t.includes(p)||this.state.includes(p)?p.neighboors++:(p.neighboors=1,t.push(p))}}if(s>=0&&s<this.numberOfBlocks){var u=this.cellMatrix[e.x][s];if(t.includes(u)||this.state.includes(u)?u.neighboors++:(u.neighboors=1,t.push(u)),i>=0&&i<this.numberOfBlocks){var g=this.cellMatrix[i][s];t.includes(g)||this.state.includes(g)?g.neighboors++:(g.neighboors=1,t.push(g))}if(a>=0&&a<this.numberOfBlocks){var d=this.cellMatrix[a][s];t.includes(d)||this.state.includes(d)?d.neighboors++:(d.neighboors=1,t.push(d))}}}var f=new Array;for(o=0;o<this.state.length;o++)(this.state[o].neighboors<2||this.state[o].neighboors>3)&&f.push(this.state[o]),this.state[o].neighboors=0;for(o=0;o<f.length;o++)this.kill(f[o].x,f[o].y);for(o=0;o<t.length;o++)3==t[o].neighboors&&this.populate(t[o].x,t[o].y),t[o].neighboors=0},clean:function(){for(;this.state.length>0;)this.kill(this.state[0].x,this.state[0].y)},clickSingle:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight);o.setRef?o.setReference(i,l):o.cellMatrix[i][l].isAlive?o.kill(i,l):o.populate(i,l)})},clickGlider:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight);o.populate(i,l),o.populate(i-1,l),o.populate(i+1,l),o.populate(i,l-2),o.populate(i+1,l-1)})},clickShip:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight);o.populate(i,l),o.populate(i-1,l),o.populate(i-2,l),o.populate(i-3,l-1),o.populate(i-3,l-3),o.populate(i+1,l),o.populate(i+1,l-1),o.populate(i+1,l-2),o.populate(i,l-3)})},clickSpider:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth)-2,l=Math.floor((t.pageY-a)/o.blockHeight)-1;o.populate(i,l),o.populate(i-1,l),o.populate(i-2,l),o.populate(i+1,l-1),o.populate(i+1,l-2),o.populate(i+1,l-3),o.populate(i,l-5),o.populate(i-1,l-5),o.populate(i-2,l-5),o.populate(i-4,l-1),o.populate(i-4,l-2),o.populate(i-4,l-3),i+=4,o.populate(i,l),o.populate(i+1,l),o.populate(i+2,l),o.populate(i-1,l-1),o.populate(i-1,l-2),o.populate(i-1,l-3),o.populate(i,l-5),o.populate(i+1,l-5),o.populate(i+2,l-5),o.populate(i+4,l-1),o.populate(i+4,l-2),o.populate(i+4,l-3),l+=2,o.populate(i,l),o.populate(i+1,l),o.populate(i+2,l),o.populate(i-1,l+1),o.populate(i-1,l+2),o.populate(i-1,l+3),o.populate(i,l+5),o.populate(i+1,l+5),o.populate(i+2,l+5),o.populate(i+4,l+1),o.populate(i+4,l+2),o.populate(i+4,l+3),i-=4,o.populate(i,l),o.populate(i-1,l),o.populate(i-2,l),o.populate(i+1,l+1),o.populate(i+1,l+2),o.populate(i+1,l+3),o.populate(i,l+5),o.populate(i-1,l+5),o.populate(i-2,l+5),o.populate(i-4,l+1),o.populate(i-4,l+2),o.populate(i-4,l+3)})},clickBlock:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight);o.populate(i,l),o.populate(i,l-1),o.populate(i-1,l),o.populate(i-1,l-1)})},clickDonut:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight);o.populate(i,l),o.populate(i-1,l-1),o.populate(i-1,l-2),o.populate(i,l-3),o.populate(i+1,l-1),o.populate(i+1,l-2)})},clickHandle:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth),l=Math.floor((t.pageY-a)/o.blockHeight)-1;o.populate(i,l),o.populate(i-1,l),o.populate(i-2,l+1),o.populate(i-1,l+2),o.populate(i,l+3),o.populate(i+1,l+2),o.populate(i+1,l+1)})},clickGull:function(){$(".game_board").off("click"),$(".game_board").click({gol:this},function(t){t.preventDefault();var o=t.data.gol,e=$(this).offset().left,a=$(this).offset().top,i=Math.floor((t.pageX-e)/o.blockWidth)-1,l=Math.floor((t.pageY-a)/o.blockHeight);o.populate(i,l),o.populate(i,l+1),o.populate(i+1,l+2),o.populate(i+3,l+1),o.populate(i+3,l),o.populate(i+2,l-1)})},mouseHandlers:function(){this.clickSingle(),$(".btn").mouseover(function(t){$(t.target).css("color","orange")}),$(".btn").mouseout(function(t){1!=$(t.target).attr("data-on")&&$(t.target).css("color","black")}),$("#tick").click({gol:this},function(t){t.data.gol.tick()}),$("#run").click({gol:this},function(t){var o=t.data.gol;$(t.target).css({color:"orange"}),o.running=!0,$(t.target).attr({"data-on":1}),function e(){if(!o.running||!o.state.length)return $(t.target).css({color:"initial"}),void $(t.target).attr({"data-on":0});o.tick(),setTimeout(function(){e()},100)}(),this.populate}),$("#refSet").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$("#single").css({color:"orange"}),$("#single").attr({"data-on":1}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.setRef=!0,o.clickSingle()}),$("#refRem").click({gol:this},function(){o.kill(o.ref.x,o.ref.y),$("#refVal").val(""),o.ref=null}),$("#stop").click({gol:this},function(t){t.data.gol.running=!1,$("#run").attr({"data-on":0})}),$("#clean").click({gol:this},function(t){t.data.gol.clean()}),$("#single").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickSingle()}),$("#glider").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickGlider()}),$("#ship").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickShip()}),$("#spider").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickSpider()}),$("#block").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickBlock()}),$("#donut").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickDonut()}),$("#handle").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickHandle()}),$("#gull").click({gol:this},function(t){$(".pattern").css({color:"black"}).attr({"data-on":0}),$(t.target).css({color:"orange"}),$(t.target).attr({"data-on":1}),o.clickGull()}),$("")},resize:function(){var t=this.state.slice();this.clean(),this.board.remove(),this.height=Math.floor($(".gol_container").parent().height()*this.hRatio),this.width=this.height,this.blockHeight=this.height/this.numberOfBlocks,this.blockWidth=this.width/this.numberOfBlocks,$(".game_board").css({width:this.width,height:this.height}),this.board=d3.select(".game_board").append("svg"),this.board.attr("width",this.width).attr("height",this.height);for(var o=0;o<=this.numberOfBlocks;o++)this.board.append("svg:line").attr("x1",0).attr("y1",o*this.blockHeight).attr("x2",this.width).attr("y2",o*this.blockHeight).style("stroke","rgba(95, 95, 95, 0.178)").style("stroke-width",1),this.board.append("svg:line").attr("x1",o*this.blockWidth).attr("y1",0).attr("x2",o*this.blockWidth).attr("y2",this.height).style("stroke","rgba(95, 95, 95, 0.178)").style("stroke-width",1);for(var e=0;e<t.length;e++)this.populate(t[e].x,t[e].y)},init:function(){this.hRatio=$(".gol_container").height()/100,this.height=Math.floor($(".gol_container").parent().height()*this.hRatio),this.width=this.height,this.blockHeight=this.height/this.numberOfBlocks,this.blockWidth=this.width/this.numberOfBlocks,this.state=new Array,$(".game_board").css({width:this.width,height:this.height}),this.board=d3.select(".game_board").append("svg"),this.board.attr("width",this.width).attr("height",this.height),this.cellMatrix=new Array(this.numberOfBlocks);for(var e=0;e<=this.numberOfBlocks;e++){this.board.append("svg:line").attr("x1",0).attr("y1",e*this.blockHeight).attr("x2",this.width).attr("y2",e*this.blockHeight).style("stroke","rgba(95, 95, 95, 0.178)").style("stroke-width",1),this.board.append("svg:line").attr("x1",e*this.blockWidth).attr("y1",0).attr("x2",e*this.blockWidth).attr("y2",this.height).style("stroke","rgba(95, 95, 95, 0.178)").style("stroke-width",1),this.cellMatrix[e]=new Array(this.numberOfBlocks);for(var a=0;a<this.numberOfBlocks;a++)this.cellMatrix[e][a]=new t(e,a)}this.mouseHandlers(),$("#single").css({color:"orange"}).attr({"data-on":1}),this.loadState(null),$(window).resize({gol:this},function(t){o.resize()})}};o.init()}(),$(document).ready(function(){var t=[$(".display.item.t1"),$(".display.item.t2"),$(".display.item.t3"),$(".display.item.t4")],o=[$(".menu.item.t1"),$(".menu.item.t2"),$(".menu.item.t3"),$(".menu.item.t4")],e=$(".header"),a="#dcdcdc",i="#466666",l="15px",s=getParameterByName("tab");s||(s=0),o.forEach(function(t){t.mouseover(function(o){t.css({"background-color":i,"border-bottom-color":t.attr("data-bd-color"),"border-bottom-width":l,color:t.attr("data-bd-color")})}),t.mouseout(function(o){s!=t.attr("data-tab")&&t.css({"background-color":"transparent","border-bottom-color":a,"border-bottom-width":"5px",color:"black"})})}),t[s].css({display:"block"}),e.css({"background-color":o[s].attr("data-bd-color")}),o[s].css({"background-color":i,"border-bottom-color":o[s].attr("data-bd-color"),"border-bottom-width":l,color:o[s].attr("data-bd-color")}),$(".menu.item").click(function(r){r.preventDefault();var c=$(r.target);temp=c.attr("data-tab"),temp!=s?(t[s].fadeOut(200),o[s].css({"background-color":"transparent","border-bottom-color":a,"border-bottom-width":"5px",color:"black"}),s=c.attr("data-tab"),o[s].css({"background-color":i,"border-bottom-color":o[s].attr("data-bd-color"),"border-bottom-width":l,color:o[s].attr("data-bd-color")}),e.animate({backgroundColor:o[s].attr("data-bd-color")}),setTimeout(function(){t[s].fadeIn(200)},201)):gol.init()})});